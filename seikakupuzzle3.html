<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ç›´æ„Ÿã§ã‚ã‹ã‚‹æ€§æ ¼è¨ºæ–­ãƒ‘ã‚ºãƒ«</title>
    <style>
        /* --- CSS: ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š (700pxã‹ã‚‰800pxã«æ‹¡å¼µ) --- */
        body {
            font-family: 'Hiragino Kaku Gothic Pro', 'Meiryo', sans-serif;
            background-color: #f4f7f6;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        #app-container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px; /* å¹…ã‚’åºƒã’ã¾ã—ãŸ */
        }

        h1 {
            color: #4a90e2;
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8em;
            border-bottom: 3px solid #4a90e2;
            padding-bottom: 10px;
        }

        /* è³ªå•ã‚¨ãƒªã‚¢ */
        #quiz-area {
            text-align: center;
        }

        #question-text {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #555;
            min-height: 40px;
        }

        /* é¸æŠè‚¢ãƒœã‚¿ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒŠ */
        #options-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
            text-align: left;
        }

        .option-button {
            background-color: #e0eafb;
            color: #4a90e2;
            padding: 15px;
            border: 2px solid #4a90e2;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.2s, transform 0.2s;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80px; 
            text-align: center;
        }

        .option-button:hover {
            background-color: #4a90e2;
            color: white;
            transform: translateY(-2px);
        }

        /* çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ */
        #result-area {
            text-align: center;
            padding: 30px;
            background-color: #f9f9f9;
            border: 1px dashed #4CAF50;
            border-radius: 10px;
        }

        #result-area h2 {
            color: #4CAF50;
            font-size: 2em;
            margin-bottom: 15px;
        }

        #result-type {
            font-size: 1.8em; /* ã‚µã‚¤ã‚ºã‚’å¤§ãã */
            font-weight: bold;
            color: #d9534f;
            margin-bottom: 20px;
        }

        #result-analysis {
            font-size: 1.1em;
            line-height: 1.8;
            text-align: left;
            margin-top: 20px;
        }

        #result-summary {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #e0f2f1;
            border-radius: 5px;
        }

        /* é€²è¡ŒçŠ¶æ³ãƒãƒ¼ */
        #progress-bar {
            height: 10px;
            background-color: #ccc;
            border-radius: 5px;
            margin-bottom: 25px;
            overflow: hidden;
        }

        #progress-fill {
            height: 100%;
            width: 0%;
            background-color: #4CAF50;
            transition: width 0.3s ease-in-out;
        }
    </style>
</head>
<body>

    <div id="app-container">
        <h1>ç›´æ„Ÿã§ã‚ã‹ã‚‹æ€§æ ¼è¨ºæ–­ãƒ‘ã‚ºãƒ«</h1>

        <div id="progress-bar">
            <div id="progress-fill"></div>
        </div>

        <div id="quiz-area">
            <div id="question-text">è¨ºæ–­ã‚’é–‹å§‹ã—ã¾ã™ã€‚ã€Œã‚¹ã‚¿ãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚</div>
            
            <div id="options-container">
                <button id="start-button" class="option-button" onclick="startQuiz()">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
            </div>
        </div>

        <div id="result-area" style="display: none;">
            <h2>âœ¨ è¨ºæ–­çµæœ âœ¨</h2>
            <div id="result-type"></div>
            <div id="result-summary"></div>
            <div id="result-analysis"></div>
            <button class="option-button" style="margin-top: 20px; width: 100%;" onclick="location.reload()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
        </div>
    </div>

    <script>
        // --- JavaScript: ãƒ­ã‚¸ãƒƒã‚¯è¨­å®š ---

        // DOMè¦ç´ ã®å–å¾—
        const quizArea = document.getElementById('quiz-area');
        const resultArea = document.getElementById('result-area');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const progressFill = document.getElementById('progress-fill');
        const resultType = document.getElementById('result-type');
        const resultSummary = document.getElementById('result-summary');
        const resultAnalysis = document.getElementById('result-analysis');

        // è¨ºæ–­ã®è³ªå•ãƒ‡ãƒ¼ã‚¿ (å…¨20å•)
        // å„è³ªå•ã¯ä»¥ä¸‹ã®2è»¸ã®ã©ã¡ã‚‰ã‹ã«å½±éŸ¿ã‚’ä¸ãˆã¾ã™ã€‚ï¼ˆå„è»¸æœ€å¤§10ç‚¹ï¼‰
        // S: Stability/Systematic (å®‰å®šæ€§/è¨ˆç”»æ€§) vs I: Intuition/Innovation (ç›´æ„Ÿ/é©æ–°æ€§)
        // A: Action/Assertive (è¡Œå‹•åŠ›/æ–­è¨€çš„) vs R: Reflective/Reserved (å†…çœçš„/æ§ãˆã‚)
        const questions = [
            { text: "Q1. é€±æœ«ã®è¨ˆç”»ã‚’ç«‹ã¦ã‚‹ã¨ãã€ã©ã¡ã‚‰ã«æƒ¹ã‹ã‚Œã¾ã™ã‹ï¼Ÿ", options: [{ text: "ç¶¿å¯†ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµ„ã‚€", value: "S" }, { text: "ä½•ã‚‚æ±ºã‚ãšã«ã€ãã®å ´ã®æ°—åˆ†ã§å‹•ã", value: "I" }] },
            { text: "Q2. å‹äººã¨ã®ä¼šè©±ã§ã¯ã€ã©ã¡ã‚‰ãŒå¤šã„ã§ã™ã‹ï¼Ÿ", options: [{ text: "ç©æ¥µçš„ã«ç™ºè¨€ã—ã€è­°è«–ã‚’ãƒªãƒ¼ãƒ‰ã™ã‚‹", value: "A" }, { text: "èãå½¹ã«å›ã‚Šã€ç™ºè¨€ã¯å¿…è¦ãªæ™‚ã ã‘ã«ã™ã‚‹", value: "R" }] },
            { text: "Q3. æ–°ã—ã„è¶£å‘³ã‚’å§‹ã‚ã‚‹ã¨ãã€ã©ã¡ã‚‰ã«æƒ¹ã‹ã‚Œã¾ã™ã‹ï¼Ÿ", options: [{ text: "åŸºç¤ã‚’ã—ã£ã‹ã‚Šå­¦ã¹ã‚‹å…¥é–€æ›¸", value: "S" }, { text: "ã¨ã‚Šã‚ãˆãšå§‹ã‚ã¦ã€è‡ªåˆ†ã§è©¦è¡ŒéŒ¯èª¤ã™ã‚‹", value: "I" }] },
            { text: "Q4. ãƒˆãƒ©ãƒ–ãƒ«ãŒç™ºç”Ÿã—ãŸã¨ãã€æœ€åˆã«ã™ã‚‹ã“ã¨ã¯ï¼Ÿ", options: [{ text: "ã™ãã«çŠ¶æ³ã‚’æŠŠæ¡ã—ã€å¯¾ç­–ã‚’è¬›ã˜ã‚‹", value: "A" }, { text: "å°‘ã—ç«‹ã¡æ­¢ã¾ã‚Šã€æ·±ãè€ƒãˆã‚‹æ™‚é–“ã‚’æŒã¤", value: "R" }] },
            { text: "Q5. ä»•äº‹ï¼ˆä½œæ¥­ï¼‰ç’°å¢ƒã¯ã€ã©ã¡ã‚‰ãŒå¥½ã¿ã§ã™ã‹ï¼Ÿ", options: [{ text: "æ•´ç†æ•´é “ã•ã‚Œã€è¦–ç•Œã«ãƒã‚¤ã‚ºãŒãªã„", value: "S" }, { text: "ã‚¢ã‚¤ãƒ‡ã‚¢ã‚„è³‡æ–™ãŒåºƒãŒã‚Šã€æ´»ç™ºãªçŠ¶æ…‹", value: "I" }] },
            
            // --- ãƒ‘ã‚ºãƒ«ï¼ˆç›´æ„Ÿï¼‰è¦ç´  ---
            { text: "Q6. ã€ç›´æ„Ÿãƒ‘ã‚ºãƒ«ã€‘ã€Œæ˜Ÿã€æ˜Ÿã€æœˆã€æ˜Ÿã€æ˜Ÿã€æœˆ...ã€æ¬¡ã«ç¶šãã¨æ€ã†å›³å½¢ã¯ï¼Ÿ", options: [{ text: "æ˜Ÿ", value: "S" }, { text: "æœˆ", value: "I" }] }, // S: è¦å‰‡æ€§ç¶­æŒ, I: è¦å‰‡æ€§ã®ç ´ç¶»ã‚’äºˆæœŸ
            { text: "Q7. ã€ç›´æ„Ÿãƒ‘ã‚ºãƒ«ã€‘ã€Œèµ¤ã€é’ã€é’ã€èµ¤ã€é’ã€é’...ã€æ¬¡ã«ãã‚‹è‰²ã¯ï¼Ÿ", options: [{ text: "èµ¤", value: "S" }, { text: "é’", value: "I" }] }, // S: è¦å‰‡æ€§ç¶­æŒ, I: è¦å‰‡æ€§ã®ç ´ç¶»ã‚’äºˆæœŸ
            { text: "Q8. ã€ç›´æ„Ÿãƒ‘ã‚ºãƒ«ã€‘ã€Œå††ã€å››è§’ã€ä¸‰è§’ã€å††ã€å››è§’ã€ä¸‰è§’...ã€æ¬¡ã«ãã‚‹å›³å½¢ã¯ï¼Ÿ", options: [{ text: "å††", value: "S" }, { text: "å››è§’", value: "I" }] }, // S: è¦å‰‡æ€§ç¶­æŒ, I: è¦å‰‡æ€§ã®ç ´ç¶»ã‚’äºˆæœŸ
            // --- ãƒ‘ã‚ºãƒ«ï¼ˆç›´æ„Ÿï¼‰è¦ç´  çµ‚äº† ---

            { text: "Q9. è¨ˆç”»é€šã‚Šã«é€²ã¾ãªã„ã¨ãã€æ°—æŒã¡ã¯ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ", options: [{ text: "ã‚¤ãƒ©ã‚¤ãƒ©ã™ã‚‹ãŒã€ã™ãã«ä¿®æ­£æ¡ˆã‚’è€ƒãˆã‚‹", value: "S" }, { text: "é¢ç™½ãŒã‚‹ã€‚æ–°ã—ã„å±•é–‹ã ã¨å‰å‘ãã«æ‰ãˆã‚‹", value: "I" }] },
            { text: "Q10. æ–°ã—ã„äººã‚’è©•ä¾¡ã™ã‚‹ã¨ãã€ã©ã“ã‚’é‡è¦–ã—ã¾ã™ã‹ï¼Ÿ", options: [{ text: "éå»ã®å®Ÿç¸¾ã¨å…·ä½“çš„ãªã‚¹ã‚­ãƒ«", value: "S" }, { text: "éš ã•ã‚ŒãŸå¯èƒ½æ€§ã‚„æ½œåœ¨çš„ãªæ‰èƒ½", value: "I" }] },
            { text: "Q11. ã‚°ãƒ«ãƒ¼ãƒ—ã®æ±ºå®šã§ã€ã‚ãªãŸã®å½¹å‰²ã¯ï¼Ÿ", options: [{ text: "çµè«–ã‚’å‡ºã—ã€å®Ÿè¡Œã‚’ä¿ƒã™", value: "A" }, { text: "ãƒ¡ãƒ³ãƒãƒ¼ã®æ„è¦‹ã‚’ã¾ã¨ã‚ã€èª¿å’Œã‚’ä¿ã¤", value: "R" }] },
            { text: "Q12. æ„Ÿæƒ…çš„ãªå¯¾ç«‹ãŒèµ·ããŸã¨ãã€ã©ã¡ã‚‰ã‚’é¸ã³ã¾ã™ã‹ï¼Ÿ", options: [{ text: "ã™ãã«ä»‹å…¥ã—ã€å•é¡Œã‚’è§£æ±ºã™ã‚‹", value: "A" }, { text: "ä¸€æ­©å¼•ã„ã¦ã€å†·é™ã«çŠ¶æ³ã‚’åˆ†æã™ã‚‹", value: "R" }] },
            { text: "Q13. è‡ªåˆ†ã®æ„è¦‹ã«è‡ªä¿¡ãŒæŒã¦ãªã„ã¨ãã€ã©ã†ã—ã¾ã™ã‹ï¼Ÿ", options: [{ text: "å‘¨å›²ã®æ„è¦‹ã‚’å‚è€ƒã«ã—ã¦ã€çµè«–ã‚’å‡ºã™", value: "S" }, { text: "è‡ªåˆ†ã®ç›´æ„Ÿã‚’ä¿¡ã˜ã€ç‹¬è‡ªè·¯ç·šã‚’è²«ã", value: "I" }] },
            { text: "Q14. é€£çµ¡æ‰‹æ®µã¨ã—ã¦ã€ã©ã¡ã‚‰ã‚’å¥½ã¿ã¾ã™ã‹ï¼Ÿ", options: [{ text: "é›»è©±ã‚„ç›´æ¥ä¼šè©± (å³æ™‚æ€§)", value: "A" }, { text: "ãƒ¡ãƒ¼ãƒ«ã‚„ãƒãƒ£ãƒƒãƒˆ (æ–‡ç« ã§ã®æ•´ç†)", value: "R" }] },
            { text: "Q15. å¤¢ã‚„ç›®æ¨™ã‚’èªã‚‹ã¨ãã€ã©ã¡ã‚‰ã®è¦–ç‚¹ãŒå¤šã„ã§ã™ã‹ï¼Ÿ", options: [{ text: "é”æˆã™ã‚‹ãŸã‚ã®å…·ä½“çš„ãªãƒ—ãƒ­ã‚»ã‚¹", value: "S" }, { text: "å®Ÿç¾ã—ãŸã¨ãã®æ„Ÿæƒ…ã‚„ä¸–ç•Œè¦³", value: "I" }] },
            { text: "Q16. äººå‰ã§æ„è¦‹ã‚’è¿°ã¹ã‚‹ã®ã¯å¾—æ„ã§ã™ã‹ï¼Ÿ", options: [{ text: "è‡ªä¿¡ã‚’æŒã£ã¦ã€ã¯ã£ãã‚Šã¨è©±ã™", value: "A" }, { text: "æº–å‚™ãŒã§ãã¦ã„ã‚Œã°è©±ã›ã‚‹ãŒã€ã§ãã‚Œã°é¿ã‘ãŸã„", value: "R" }] },
            { text: "Q17. ç· ã‚åˆ‡ã‚ŠãŒè¿‘ã„ã¨ãã€é›†ä¸­åŠ›ã¯ï¼Ÿ", options: [{ text: "é«˜ã¾ã‚Šã€è¨ˆç”»é€šã‚Šã«åŠ é€Ÿã™ã‚‹", value: "S" }, { text: "ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã‚’æ„Ÿã˜ã€æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã«é€ƒã’ã‚‹", value: "I" }] },
            { text: "Q18. å‹äººã«å¼±éŸ³ã‚’åãã®ã¯å¾—æ„ã§ã™ã‹ï¼Ÿ", options: [{ text: "å•é¡Œè§£æ±ºã®ãŸã‚ã«è©±ã™ã“ã¨ã¯ã‚ã‚‹", value: "A" }, { text: "ã‚ã¾ã‚Šå¾—æ„ã§ã¯ãªãã€è‡ªåˆ†ã§å‡¦ç†ã—ãŸã„", value: "R" }] },
            { text: "Q19. è‡ªåˆ†ã®æ„Ÿæƒ…ã¯ã€æ™®æ®µã©ã†ã§ã™ã‹ï¼Ÿ", options: [{ text: "ä¸€å®šã§ã€ã‚ã¾ã‚Šæ³¢ãŒãªã„", value: "S" }, { text: "è±Šã‹ã§ã€çŠ¶æ³ã«ã‚ˆã£ã¦å¤§ããå¤‰åŒ–ã™ã‚‹", value: "I" }] },
            { text: "Q20. ã‚ãªãŸã®è¡Œå‹•ã®å‹•æ©Ÿã¯ã€ä¸»ã«ã©ã¡ã‚‰ã§ã™ã‹ï¼Ÿ", options: [{ text: "ç›®æ¨™é”æˆã¨åŠ¹ç‡", value: "A" }, { text: "æ¢æ±‚å¿ƒã¨å¥½å¥‡å¿ƒ", value: "R" }] }
        ];

        let currentQuestionIndex = 0; // ç¾åœ¨ã®è³ªå•ç•ªå·
        let score = { S: 0, I: 0, A: 0, R: 0 }; // ã‚¹ã‚³ã‚¢é›†è¨ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (å„è»¸æœ€å¤§10ç‚¹)

        // æ€§æ ¼ã‚¿ã‚¤ãƒ—ã¨åˆ†æçµæœã®å®šç¾© (åˆè¨ˆã‚¹ã‚³ã‚¢ã«åŸºã¥ãã€2è»¸ã§åˆ¤å®š)
        // ä¾‹: Sã‚¹ã‚³ã‚¢ãŒIã‚¹ã‚³ã‚¢ã‚ˆã‚Š3ç‚¹ä»¥ä¸Šé«˜ã‘ã‚Œã°ã€ŒSå„ªä½ã€ã¨åˆ¤å®šã™ã‚‹ãªã©ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä½¿ç”¨
        const personalityTypes = {
            // S (å®‰å®š/è¨ˆç”») å„ªä½ vs I (ç›´æ„Ÿ/é©æ–°) å„ªä½
            // A (è¡Œå‹•/æ–­è¨€) å„ªä½ vs R (å†…çœ/æ§ãˆã‚) å„ªä½

            // --- å®‰å®š/è¨ˆç”» (S) å„ªä½ ---
            "SA_strong": { type: "âœ¨ å®Œç’§ä¸»ç¾©ã®å¸ä»¤å®˜ (The Organized Director)", analysis: "ã‚ãªãŸã¯**è¨ˆç”»æ€§**ã¨**è¡Œå‹•åŠ›**ãŒæ¥µã‚ã¦é«˜ã„ã€ç¨€æœ‰ãªãƒªãƒ¼ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—ã§ã™ã€‚ç›®æ¨™ã‚’è¨­å®šã—ãŸã‚‰ã€è«–ç†çš„ã‹ã¤è¿…é€Ÿã«å®Ÿè¡Œã«ç§»ã—ã€çµæœã‚’å‡ºã—ã¾ã™ã€‚ãŸã ã—ã€ãã®å³æ ¼ã•ãŒæ™‚ã«å‘¨å›²ã«ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã‚’ä¸ãˆã‚‹ã“ã¨ã‚‚ã‚ã‚‹ãŸã‚ã€æŸ”è»Ÿãªå§¿å‹¢ã‚’æ„è­˜ã™ã‚‹ã¨ã€ã•ã‚‰ã«å¤šãã®æ”¯æŒã‚’å¾—ã‚‹ã§ã—ã‚‡ã†ã€‚" },
            "SR_strong": { type: "ğŸ’ ç·»å¯†ãªæˆ¦ç•¥å®¶ (The Detailed Strategist)", analysis: "ã‚ãªãŸã¯**å®‰å®šæ€§**ã‚’åŸºç›¤ã«ã€**æ·±ã„å†…çœ**ã‚’é‡ã­ã¦è¡Œå‹•ã™ã‚‹å­¦è€…è‚Œã®æˆ¦ç•¥å®¶ã§ã™ã€‚æ„Ÿæƒ…ã«æµã•ã‚Œãšã€ãƒªã‚¹ã‚¯ã‚’å¾¹åº•çš„ã«åˆ†æã—ã¦ã‹ã‚‰å‹•ãå‡ºã™ãŸã‚ã€ä¸‹ã—ãŸåˆ¤æ–­ã¯éå¸¸ã«æ­£ç¢ºã§ã™ã€‚ãƒãƒ¼ãƒ ã§ã¯ã€ã‚ãªãŸã®åˆ†æåŠ›ã¨æº–å‚™ã®å‘¨åˆ°ã•ãŒã€ä¸å¯æ¬ ãªå¼·ã¿ã¨ãªã‚Šã¾ã™ã€‚" },
            
            // --- ç›´æ„Ÿ/é©æ–° (I) å„ªä½ ---
            "IA_strong": { type: "ğŸš€ æƒ…ç†±ã®ã‚¤ãƒãƒ™ãƒ¼ã‚¿ãƒ¼ (The Passionate Innovator)", analysis: "ã‚ãªãŸã¯**ç›´æ„Ÿ**ã¨**è¡Œå‹•åŠ›**ãŒçˆ†ç™ºçš„ã«çµã³ã¤ã„ãŸã€å¤‰åŒ–ã®æ——æŒ¯ã‚Šå½¹ã§ã™ã€‚æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæ¬¡ã€…ã¨æ¹§ãå‡ºã—ã€ãã‚Œã‚’å®Ÿè¡Œã«ç§»ã™ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’æŒã£ã¦ã„ã¾ã™ã€‚é£½ãã£ã½ã•ãŒç‰ã«ç‘•ã§ã™ãŒã€ã‚ãªãŸã®ç™ºæƒ³åŠ›ã¨å®Ÿè¡ŒåŠ›ã¯ã€åœæ»ã—ãŸçŠ¶æ³ã‚’æ‰“ã¡ç ´ã‚‹æœ€å¤§ã®æ­¦å™¨ã§ã™ã€‚" },
            "IR_strong": { type: "ğŸŒŒ å­¤é«˜ã®å¤¢æƒ³å®¶ (The Deep Dreamer)", analysis: "ã‚ãªãŸã¯**ç›´æ„Ÿ**ã‚’ç¾…é‡ç›¤ã«ã€**å†…çœçš„**ãªä¸–ç•Œã‚’æ¢æ±‚ã™ã‚‹å¤¢æƒ³å®¶ã§ã™ã€‚æ—¥å¸¸ã®è£ã«éš ã•ã‚ŒãŸå¯èƒ½æ€§ã‚’è¦‹æŠœãæ‰èƒ½ãŒã‚ã‚Šã€ç‹¬å‰µçš„ãªæ€è€ƒãƒ—ãƒ­ã‚»ã‚¹ã‚’æŒã£ã¦ã„ã¾ã™ã€‚é›†å›£è¡Œå‹•ã‚ˆã‚Šä¸€äººã‚’å¥½ã¿ã¾ã™ãŒã€ã‚ãªãŸã®ç”Ÿã¿å‡ºã™ã‚¢ã‚¤ãƒ‡ã‚¢ã¯ã€ä¸–ç•Œã‚’é™ã‹ã«ã€ã—ã‹ã—ç¢ºå®Ÿã«å¤‰ãˆã¦ã„ãåŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚" },

            // --- ãƒãƒ©ãƒ³ã‚¹å‹ ---
            "SA_balance": { type: "âš–ï¸ å®Ÿå‹™çš„ãªæ¨é€²è€… (The Practical Mover)", analysis: "ã‚ãªãŸã¯ã€å®‰å®šã‚’æ±‚ã‚ãªãŒã‚‰ã‚‚è¡Œå‹•ã«ç§»ã™**å®Ÿè·µè€…**ã§ã™ã€‚è¨ˆç”»ã¯ç«‹ã¦ã¾ã™ãŒã€çŠ¶æ³ã«å¿œã˜ã¦ä¿®æ­£ã‚’åŠ ãˆã‚‹æŸ”è»Ÿæ€§ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ãƒãƒ©ãƒ³ã‚¹ã®è‰¯ã•ãŒé­…åŠ›ã§ã‚ã‚Šã€å¤šãã®ãƒãƒ¼ãƒ ã§ä¸­æ ¸çš„ãªå½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚" },
            "SR_balance": { type: "ğŸ•Šï¸ ç©ã‚„ã‹ãªæ¢æ±‚è€… (The Calm Explorer)", analysis: "ã‚ãªãŸã¯ã€å†…çœã‚’é‡è¦–ã—ã¤ã¤ã‚‚ã€å¿…è¦ãªå ´é¢ã§ã¯å®‰å®šçš„ãªè¡Œå‹•ã‚’é¸ã¶**èª¿å’Œå‹**ã§ã™ã€‚æ€¥ãªå¤‰åŒ–ã¯å¥½ã¿ã¾ã›ã‚“ãŒã€ã˜ã£ãã‚Šæ™‚é–“ã‚’ã‹ã‘ã¦ç‰©äº‹ã‚’æ¢æ±‚ã—ã€çŸ¥è­˜ã‚’æ·±ã‚ã¦ã„ãã“ã¨ã‚’å¾—æ„ã¨ã—ã¦ã„ã¾ã™ã€‚äººé–“é–¢ä¿‚ã«ãŠã„ã¦ã‚‚ã€ç©ã‚„ã‹ãªä¿¡é ¼ã‚’ç¯‰ãã¾ã™ã€‚" },
            "IA_balance": { type: "âš¡ æŸ”è»Ÿãªã‚¢ã‚¤ãƒ‡ã‚¢ãƒãƒ³ (The Adaptive Idea Generator)", analysis: "ã‚ãªãŸã¯ã€ç›´æ„Ÿã‚’æ´»ã‹ã—ã¤ã¤ã‚‚ã€é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§è¡Œå‹•ã‚’èµ·ã“ã™**æ©Ÿè»¢ã®åˆ©ã**ã‚¿ã‚¤ãƒ—ã§ã™ã€‚æ§˜ã€…ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è©¦ã—ã€å¤±æ•—ã‚’æã‚Œã¾ã›ã‚“ã€‚ã‚ãªãŸã®å‘¨ã‚Šã«ã¯å¸¸ã«æ´»æ°—ãŒã‚ã‚Šã€æ–°ã—ã„ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãŒçµ¶ãˆã¾ã›ã‚“ã€‚" },
            "IR_balance": { type: "ğŸ¨ æ„Ÿå—æ€§è±Šã‹ãªè¡¨ç¾è€… (The Sensitive Creator)", analysis: "ã‚ãªãŸã¯ã€å†…çœã‚’é€šã˜ã¦ç›´æ„Ÿçš„ãªã²ã‚‰ã‚ãã‚’å¾—ã‚‹**æ„Ÿå—æ€§ã®é«˜ã„**ã‚¿ã‚¤ãƒ—ã§ã™ã€‚èŠ¸è¡“çš„ãªã‚»ãƒ³ã‚¹ã‚„ã€äººã®æ°—æŒã¡ã‚’å¯Ÿã™ã‚‹èƒ½åŠ›ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚ç‹¬è‡ªã®è¦–ç‚¹ã‚’æŒã¡ãªãŒã‚‰ã‚‚ã€å‘¨å›²ã®ç©ºæ°—ã‚’èª­ã‚€ã“ã¨ãŒã§ãã‚‹ç¹Šç´°ã•ã‚’æŒã£ã¦ã„ã¾ã™ã€‚" }
        };

        /**
         * è¨ºæ–­é–‹å§‹ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã®å‡¦ç†
         */
        function startQuiz() {
            score = { S: 0, I: 0, A: 0, R: 0 };
            currentQuestionIndex = 0;
            displayQuestion();
        }

        /**
         * è³ªå•ã¨é¸æŠè‚¢ã‚’DOMã«è¡¨ç¤ºã™ã‚‹
         */
        function displayQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResult();
                return;
            }

            const q = questions[currentQuestionIndex];
            
            questionText.textContent = `Q${currentQuestionIndex + 1}/${questions.length}. ${q.text}`;
            
            // é€²è¡ŒçŠ¶æ³ãƒãƒ¼ã‚’æ›´æ–° (20å•ãªã®ã§ã€1å•ã‚ãŸã‚Š5%é€²ã‚€)
            const progress = (currentQuestionIndex / questions.length) * 100;
            progressFill.style.width = `${progress}%`;
            
            optionsContainer.innerHTML = '';

            q.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-button';
                button.textContent = option.text;
                button.onclick = () => handleAnswer(option.value);
                optionsContainer.appendChild(button);
            });
        }

        /**
         * ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå›ç­”ã‚’é¸æŠã—ãŸã¨ãã®å‡¦ç†
         */
        function handleAnswer(value) {
            score[value] += 1;
            
            currentQuestionIndex++;
            displayQuestion();
        }

        /**
         * æœ€çµ‚çš„ãªçµæœã‚’è¡¨ç¤ºã™ã‚‹
         */
        function showResult() {
            progressFill.style.width = '100%';
            
            quizArea.style.display = 'none';
            resultArea.style.display = 'block';

            // 1. å„è»¸ã®å‹è€…ã‚’æ±ºå®š (S vs I, A vs R)
            // åˆ¤å®šã®å¼·ã• (å„ªä½æ€§ã®åº¦åˆã„) ã‚’å–å¾—
            const sScore = score.S;
            const iScore = score.I;
            const aScore = score.A;
            const rScore = score.R;

            const sDominant = sScore - iScore; // æ­£ãªã‚‰Så„ªä½ã€è² ãªã‚‰Iå„ªä½
            const aDominant = aScore - rScore; // æ­£ãªã‚‰Aå„ªä½ã€è² ãªã‚‰Rå„ªä½

            // 2. æœ€çµ‚ã‚¿ã‚¤ãƒ—ã‚­ãƒ¼ã®æ±ºå®š
            let typeKey = '';

            // S/Iè»¸ã®åˆ¤å®š (åˆè¨ˆ10ç‚¹ä¸­ã€å·®ãŒ3ç‚¹ä»¥ä¸Šãªã‚‰strongã€ãã‚Œä»¥å¤–ã¯balance)
            if (sDominant >= 3) {
                typeKey += 'S'; // Så„ªä½ (strong)
            } else if (sDominant <= -3) {
                typeKey += 'I'; // Iå„ªä½ (strong)
            } else {
                // å·®ãŒ2ç‚¹ä»¥å†…ã®å ´åˆã€å„ªä½æ€§ã‚’å•ã‚ãšã€ã‚¹ã‚³ã‚¢ã®é«˜ã„æ–¹ã‚’å„ªå…ˆã—ã€'balance'ã«åˆ†é¡
                typeKey += (sScore >= iScore ? 'S' : 'I');
                typeKey += '_balance';
            }

            // A/Rè»¸ã®åˆ¤å®š (åˆè¨ˆ10ç‚¹ä¸­ã€å·®ãŒ3ç‚¹ä»¥ä¸Šãªã‚‰strong)
            if (aDominant >= 3) {
                typeKey += (typeKey.includes('_balance') ? 'A_balance' : 'A_strong');
            } else if (aDominant <= -3) {
                typeKey += (typeKey.includes('_balance') ? 'R_balance' : 'R_strong');
            } else {
                // å·®ãŒ2ç‚¹ä»¥å†…ã®å ´åˆã€å„ªä½æ€§ã‚’å•ã‚ãšã€ã‚¹ã‚³ã‚¢ã®é«˜ã„æ–¹ã‚’å„ªå…ˆã—ã€'balance'ã«åˆ†é¡
                typeKey += (aScore >= rScore ? 'A_balance' : 'R_balance');
            }

            // 3. ã‚¿ã‚¤ãƒ—ã‚­ãƒ¼ã‚’æ­£è¦åŒ– (balanceãŒã¤ã„ã¦ã„ãªã„å ´åˆã¯strongã¨è¦‹ãªã™)
            if (typeKey.length === 2) {
                typeKey += '_strong';
            }
            // è¤‡æ•°ã®_balanceãŒã¤ãã“ã¨ã‚’é˜²ãã€4ãƒ‘ã‚¿ãƒ¼ãƒ³ã®çµ„ã¿åˆã‚ã›ï¼ˆx_strong, y_strong, x_balance, y_balanceï¼‰ã§ãƒ‘ã‚¿ãƒ¼ãƒ³æ•°ã‚’ã‚«ãƒãƒ¼
            const finalKey = typeKey.replace('_balanceA_balance', '_balance').replace('_balanceR_balance', '_balance');
            
            // ä¾‹å¤–å‡¦ç†ï¼ˆå…¨ã¦ã®ã‚¹ã‚³ã‚¢ãŒåŒç‚¹ãªã©ã®æ¥µç«¯ãªã‚±ãƒ¼ã‚¹ã‚’ã‚«ãƒãƒ¼ï¼‰
            const result = personalityTypes[finalKey] || personalityTypes['SA_balance'];

            // 4. çµæœã‚’DOMã«åæ˜ 
            resultType.textContent = result.type;

            resultSummary.innerHTML = `
                <p><strong>ã€å®‰å®š/ç›´æ„Ÿã€‘è»¸:</strong> S (è¨ˆç”»/å®‰å®š) ${sScore}ç‚¹ vs I (ç›´æ„Ÿ/é©æ–°) ${iScore}ç‚¹</p>
                <p><strong>ã€è¡Œå‹•/å†…çœã€‘è»¸:</strong> A (è¡Œå‹•/æ–­è¨€) ${aScore}ç‚¹ vs R (å†…çœ/æ§ãˆã‚) ${rScore}ç‚¹</p>
            `;

            resultAnalysis.innerHTML = `
                <p><strong>ã€${result.type}ã€‘ã®åˆ†æ:</strong></p>
                <p>${result.analysis}</p>
                <p>â€»æœ¬è¨ºæ–­ã¯ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆç›®çš„ã§ã™ã€‚ã‚ãªãŸã®æ·±å±¤å¿ƒç†ã‚’æ¢ã‚‹ãƒ’ãƒ³ãƒˆã¨ã—ã¦ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚</p>
            `;
        }

        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«è¨ºæ–­ã‚’å®Ÿè¡Œ (åˆæœŸè¡¨ç¤ºç”¨)
        document.addEventListener('DOMContentLoaded', () => {
             // æœ€åˆã®ç”»é¢ã«æˆ»ã™ãŸã‚ã€ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã®ã¿è¡¨ç¤º
             quizArea.style.display = 'block';
             resultArea.style.display = 'none';
        });
    </script>

</body>
</html>
